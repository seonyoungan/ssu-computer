# 1장

Start Date: March 20, 2023
Status: 데이터베이스응용및실습

### 1. 데이터베이스 시스템

1. DBMS는 특정기업에 대한 정보를 담고 있다.
    1. 상호연관된 데이터 수집
    2. 데이터를 액세스하기 위한 프로그램의 집합
    3. 사용하기 편리하고 효율적인 환경
2. 데이터시스템은 아래와 같은 데이터의 모음을 관리하는데 도움이 된다.
    1. 높은 가치의 정보
    2. 방대한 양
    3. 동시성 제어
3. 현대의 데이터베이스 시스템은 크고 복잡한 데이터 모음을 관리하는 것을 임무로 하는 복잡한 소프트웨어 시스템이다.
4. 데이터베이스는 우리 삶의 모든 측면을 다룬다

### 2. Database application의 예시

1. 기업정보,  제조업, 금융권, 대학, 항공사, 웹서비스, 문서db, 네비게이션 등
    1. 기업정보 예
        - 영업: 소비자, 상품, 구매
        - 회계: 결제, 영수증, 에셋
        - HR: 고용인의 정보, 급여
    2. 항공사
        - 최초의 분산 DB system
        - 실시간
    3. 웹기반 서비스
        - 데이터분석 지원을 위한 DB응용
2. **정리: 초기(단순화) ⇒ 최근(소셜 네트워크의 경우 링크, 이미지, 텍스트, 동영상 등…)**

### 3. DB의 목적

1. 초기 문제점(파일시스템의 문제
    1. **데이터 중복성 및 비일관성** : 데이터가 여러 파일 형식으로 저장되어 서로 다른 파일에 정보가 중복됨 ⇒저장공간 낭비, DB 비일관성
    2. **데이터 접근의 어려움**: 각각의 새로운 작업 수행하기 위해 새 프로그램 작성 해야 함
    3. 데이터 격리: 다양한 파일의 형식
    4. **무결성 문제: 무결성 제약 (화장실 문제)**
    5. 업데이트의 **원자성**
    6. 다수 사용자에 의한 동시 접근 문제
    7. 보안성 ⇒ 무결성 제약조건을 DBsystem이 전체적으로 관리하므로 DBsystem이 해결한다.
    

### 4. 대학 데이터베이스의 예

1. 앞으로 대학 데이터베이스를 기반으로 실습 진행
2. 정보: 학생, 강사, 수업
3. 응용프로그램 예
    1. 새로운 학생, 강사, 수업 축가
    2. 과정에 학생 등록, 수업 명단 생성
    3. 학생에게 성적 할당 및 학점 계산하여 성적표 생성
    

### 5. 데이터 보기

1. **DBsystem**: 상호 관련된 데이터의 집합이며, 사용자가 데이터를 액세스, 수정하도록 하는 프로그램
2. DBsystem의 주요 목적: 사용자에게 **추상적(abstract)** 보기를 제공
    1. 데이터 모델
        - 데이터, 데이터 설명을 위한 개념적 도구 모음, 관계, 데이터 의미 체계 및 일관성 제약조건
    2. 데이터 추상화
        - 여러 수준의 데이터 추상화를 통해 사용자로부터 데이터베이스의 데이터를 나타내고, 데이터 구조의 복잡성을 숨김
    

### 6. 데이터 모델

1. 설명을 위한 도구모음
    1. 데이터
    2. 데이터 관계
    3. 데이터 의미
    4. 데이터 제약
2. 관계형 모델
    1. Entity-Relationship data model (mainly for database design)
    2. Object-based data models (Object-oriented and Object-relational) ⇒ 객체지향DB모델, 객체관계DB모델
    3. Semi-structured data model  (XML) ⇒ 빈 구조형 DB모델
    4. Other older models:
        - Network model
        - Hierarchical model
        

### 7. 관계형 모델 및 샘플 관계형 데이터베이스

- 모든 데이터는 다양한 테이블에 저장됨
- 관계형 모델의 테이블 형식 데이터의 및 샘플 관계형 데이터베이스 예시
    - **schema** : 잘 변하지 않음
    - **record(=tuple)** : 가변성 O

![Untitled](https://user-images.githubusercontent.com/74126735/226300343-c12dd89c-3634-4341-9b08-e352008930b0.png)

![Untitled 1](https://user-images.githubusercontent.com/74126735/226300293-4b8aceea-91ae-4cc1-bf86-37a46a37f4a3.png)

### 8. 추상화 단계

1. **physical level** : 기록이 저장되는 방식을 설명(상세히 기술됨)
2. **logical level** : DB에 저장된 데이터와 데이터 간의 관계를 설명
    
    ```markdown
    **type** instructor = **record**
    	ID: string;
    	name: string;
    	dept_name: string;
    	salary: integer;
    	**end**;
    ```
    
3. **veiw level**: 응용프로그램은 데이터 유형의 세부 정보를 숨길 수 있고, 보기는 보안을 위해 정보를 숨길 수도 있음
4. DBsystem을 위한 아키텍처
    
    ![Untitled 2](https://user-images.githubusercontent.com/74126735/226300308-b86d057e-8bcd-4a84-b67f-c8045a7a873f.png)
    

### 9. 인스턴스와 스키마

1. 프로그래밍 언어의 타입(schema)과 변수(instance)와 유사함
2. **Instance** : 특정 시간에 저장된 정보의 모음
    1. 변수와 유사함
3. **Schema** : DB의 전체적 설계
    1. **Logical Schema** : 데이터베이스의 전체적 논리적 구조
        - 예-은행의 고객 계좌, 그들 사이의 관계로 데이터베이스의 일련의 정보로 구성됨
        - 프로그램에서 변수의 유형 정보와 유사함
    2. **Physical Schema** : 데이터베이스의 전체적 물리적 구조

### 10. 물리적 데이터의 독립성(Independence)

1. 물리적 데이터의 독립성:논리적 스키마를 변경하지 않고 물리적 스키마를 변경할 수 있는 능력
    - 애플리케이션은 논리적 스키마에 의존함
    - 일반적으로, 다양한 레벨 사이의 인터페이스는 구성요소는 어떤 부분의 변화가 다른 부분에 심각한 영향을 미치지 않도록 잘 정의되어야 한다.

### 11. Data Definition Language(DDL)

1. DDL(정의어) : 스키마 정의를 위한 언어

```sql
create table iinstructor(
	ID char(5),
	name varchar(20),
	dept_name varchar(20),
	salary numeric(8,2))
```

1. DDL 컴파일러가 data dictionary에 저장된 테이블 템플릿의 집합을 생성한다.
2. data dictionary는 metadata(데이터에 대한 데이터)를 포함한다.
    1. Database schema
    2. Integrity constrains
        - Primary key(기본키)
    3. Authorization
        1. Who can access what

### 12. Data Manipulation Language(DML)

1. DML(조작어): 조직화된 데이터를 액세스하고 업데이트 하기 위한 언어
    1. DML은 query language라고도 불림
2. 두 가지 유형의 데이터 조작 언어
    1. Procedural DML (절차적 조작어)
        - 사용자가 필요한 데이터와 해당 데이터를 얻는 방법을 지정하도록 요구 (즉, 무엇을, 어떻게를 기술함)
    2. Declarative DML (선언적 조작어)
        - 해당 데이터 얻는 방법을 지정하지 않고 사용자가 필요한 데이터를 지정하도록 요구 (일반적으로 더 쉬움)
        

### 13. SQL Query Language(질의어)

1. 질의어: 비절차적 언어, 쿼리는 여러 테이블을 입력으로 사용하고 항상 단일 텡비ㅡㄹ을 반환
2. Comp.Sci.d dept에서 모든 강사를 찾는 예시
    
    ```sql
    select name /*찾을 것*/
    from instructor /*대상*/
    where dept_name = 'Comp. Sci.' /*조건*/
    ```
    
3. SQL은 튜링머신과 동등한 언어가 아님
4. 복잡한 함수를 계산하도록 SQL은 일반적으로 일부 고급 언어에 내장됨
5. 응용 프로그램은 일반적으로 다음 중 하나의 데이터베이스에 액세스 함
    1. 내장 SQL을 허용하는 언어 확장
    2. 응용 프로그램 인터페이스(예- SQL쿼리를 데이터 베이스로 보낼 수 있는 ODBC / JDBC)
    

### 14. 응용 프로그램에서 데이터베이스 접근

1. SQL과 같은 비절차적 쿼리 언어는 범용 튜 기계만큼 강력하지 않음
2. SQL은 사용자의 입력, 디스플레이 출력, 네트워크를 통한 통신 등의 작업을 지원하지 않음.
3. **이러한 계산과 작업은 데이터베이스의 데이터에 액세스하는 SQL 쿼리가 내장된 host language(예: C/C++, Java 또는 Python)로 작성 필요**
4. **Application programs :** 이러한 방식으로 데이터베이스와 상호작용하는 데 사용되는 프로그램

### 15. 데이터베이스 설계

1. 데이터베이스의 일반적인 구조를 설계하는 프로세스:
    1. **Logical Design** : 데이터베이스 스키마 결정. 데이터베이스 설계를 위해 관계 스키마의 **‘좋은 컬렉션’**`관계스키마를 잘 관리해야 함`을 찾아야 함.
    2. **Physical Design** : 데이터베이스의 물리적 레이아웃 결정

### 16. 데이터베이스 엔진

1. 데이터베이스 시스템 : 각 데이터베이스를 처리하는 모듈로 구성
2. 데이터베이스 시스템의 기능적 구성요소
    1. The storage manager : 저장공간 지원
    2. The query processor component : 최적의 질의문 처리 담당
    3. The transaction management component
    

### 17. storage manager

1. DB에 저장된 하위 수준 데이터와 시스템 제출된 응용 프로그램 및 쿼리 사이의 인터페이스를 제공하는 프로그램 모듈
2. **스토리지 관리자가 담당하는 작업**
    1. OS파일 관리자와 상호 작용
    2. 효율적 데이터 저장, 검색 및 업데이트
3. **스토리지 관리자 구성 요소**
    1. 인증 및 무결성 관리자
    2. 트랜잭션 관리자
    3. 파일 관리자
    4. 버퍼 관리자
4. **스토리지 관리자는 physical system 구현의 일부로 여러 데이터 구조를 구현**
    1. **데이터 파일** : 데이터베이스 자체를 정의
    2. **데이터 사전** : 데이터베이스 구조, 메타데이터(데이터베이스 스키마에 대한)
    3. **색인** : 데이터 항목에 빠른 액세스 제공함. 데이터베이스 인덱스는 특정값을 보유하는 데이터 항목에 대한 포인터 제공
    

### 18. Query Processor

1. **쿼리 프로세서 구성 요소**
    1. **DDL Interpreter** : DDL문을 해석하고 data dictionary의 정의를 저장(?)
    2. **DML Compiler** : 평가 엔진이 이해하는 하위수준 지침으로 구성된 평가계획으로 변환
        - DML Compiler는 쿼리 최적화를 수행함(즉, 다양한 대안 중 가장 낮은 비용 평가 계획 선택)
    3. **Query evaluation engine** : DML Compiler에서 생성된 하위 수준 명령 실행
    

### 19. Query Processing

1. 구문 분석 및 번역 ⇒ 최적화 ⇒ 평가
    
    ![Untitled 3](https://user-images.githubusercontent.com/74126735/226300318-9ca3c852-b637-4889-b48a-605f53c4ebda.png)
    

### 20 . Transaction Management

1. **트랜잭션은** 데이터베이스 응용 프로그램에서 단일 논리적 기능을 수행하는 작업 모음
2. **트랜잭션  관리  구성  요소**는  시스템  오류(예:  정전  및  운영  체제  충돌)  및  트랜잭션  오류에
도  불구하고  데이터베이스가  일관된(올바른)  상태로  유지되도록  합니다.
3. **동시성  제어  관리자**는  데이터베이스의  일관성을  보장하기  위해  동시  트랜잭션  간의  상호  
작용을  제어합니다.
4. 복구 관리자 : 트랜잭션 관리 구성 요소 + 동시성 제어 관리자 + 회복 관리자

### 21. Database Architecture

1. **Centralized databases(중앙집중식 데이터베이스)**: 1개에서 몇 개의 코어, 공유 메모리
2. Client-Server : 하나의 서버 시스템이 여러 클라이언트를 대신해 작업 실행
3. Parallel databases : 많은 코어 공유 메모리, 공유 디스크, 아무것도 공유하지 않음
4. Distributed databases : 지리적 분포, 스키마/데이터 이질성

### 22. Database application

1. 2계층 아키텍처
    - 응용 프로그램은 클라이언트 시스템에 상주하며 서버 시스템에서 데이터베이스 시스템 기능을 호출
2. 3계층 아키텍처
    - 클라이언트 시스템은 front-end 역할을 하며 직접적 데이터베이스 호출을 포함하지 않음
        - 클라이언트 측은 일반적으로 양식 인터페이스를 통해 응용프로그램 서버와 통신
        - 응용프로그램 서버는 데이터베이스 시스템과 통신하며 데이터에 액세스함

![Untitled 4](https://user-images.githubusercontent.com/74126735/226300325-007dac33-a15f-4191-a87f-f445439ad1a6.png)

### 23. 데이터베이스 사용자

1. 일반유저, 프로그래머, 능숙한 분석가, DBA로 구분

### 24. 데이터베이스 관리자(DBA)

1. DBA : 시스템을 중앙에서 제어하는 사람
2. DBA의 기능
    1. 스키마 정의
    2. 저장 구조 및 접근 방법 정의
    3. 스키마 및 물리적 조직 수정
    4. 데이터 접근 권한 부여
    5. 정기 점검
    6. 정기적인 데이터베이스 백업
    7. 정상적으로 작업에 사용할 수 있는 디스크 여유 공간이 충분한지 확인하고 필요에 따라 디스크 공간 업그레이드
    8. 데이터베이스에서 실행 중인 모니터링 작업

### 25. 데이터베이스의 역사

1. 1950년대 ~ 1960년대 초반
    1. 저장용 **자가 테이프** 사용한 데이터 처리
    2. 입력용 천공카드
2. 1960년대 후반 ~ 1970년대
    1. 데이터에 직접 액세스할 수 있는 **하드디스크**
    2. 네트워크 및 계층적 모델
    3. Ted Codd가 관계형 데이터 모델을 정의함
    4. 고성능 트랜잭션 처리
3. 1980년대
    1. 연구 관계형 프로토타입이 상용 시스템으로 발전
    2. 병렬 및 분산 데이터베이스 시스템
    3. 객체지향 데이터베이스 시스템
4. 1990년대
    1. 대규모 의사 결정 지원 및 데이터 마이닝 애플리케이션
    2. 대규모 멀티 테라바이트 데이터 웨어하우스
    3. 웹 상거래 출현
5. 2000년대
    1. 빅데이터 스토리지 시스템
        - NoSQL system- 소셜 미디어 발전
        - Google BigTable, Yahoo PNuts, Amazon
    2. 빅데이터 분석 : beyond SQL
        1. Map reduce and friends
6. 2010년대
    1. SQL reloaded
